<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- ProductMapper.xml -->
<mapper namespace="com.itwillbs.mapper.ProductMapper">

   <!-- 디비 컬럼과 도메인 객체 매핑 -->
   <!-- 프로퍼티명과 컬럼명 동일 시 생략가능  -->
    <resultMap type="com.itwillbs.domain.MAPDVO" id="product">
    	<result property="code" column="code"/>
    	<result property="category" column="category"/>
    	<result property="name" column="name"/>
    	<result property="size" column="size"/>
    	<result property="unit" column="unit"/>
    	<result property="inprice" column="inprice"/>
    	<result property="outprice" column="outprice"/>
    	<result property="image" column="image"/>
    	<result property="reg_emp" column="reg_emp"/>
    	<result property="reg_date" column="reg_date"/>
    	<result property="update_emp" column="update_emp"/>
    	<result property="update_date" column="update_date"/>
    	<result property="active" column="active"/>
    </resultMap>
    
    <!-- 품목 리스트 전체 조회 -->
    <select id="selectProductList">
        SELECT * FROM c7d2307t1_2.MAPD
    </select>

    <!-- 품목 등록 -->
    <insert id="insertProduct">
        INSERT INTO c7d2307t1_2.MAPD (code,name,size,unit,inprice,image,active) 
        VALUES (#{code},#{name},#{size},#{unit},#{inprice},#{image},#{active})
    </insert>

    <!-- 품목 수정 -->
    <update id="updateProduct">
        UPDATE c7d2307t1_2.MAPD SET code = #{code}, name = #{name}, size = #{size}, unit = #{unit}, inprice = #{inprice}, image = #{image}, active = #{active} 
        where code = #{code}
    </update>

    <!-- 품목 삭제 -->
    <delete id="deleteProduct">
        DELETE FROM c7d2307t1_2.MAPD 
        where code = #{code}
    </delete>
    
    <!-- 전체 품목 수 조회 -->
  	<select id="countProduct" resultType="int">
  	  <![CDATA[
	  	  select count(*) from c7d2307t1_2.MAPD  
	  	  where code > 0  
   	  ]]> 
  	</select>

</mapper>
