<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<!-- resultMapper.xml -->
<mapper namespace="com.itwillbs.mapper.resultMapper">
	<!-- 테이블 데이터 매핑 -->
  	<resultMap type="com.production.domain.resultVO" id="resultVOMap">
  		<result property="code" column="R_code"/>
  		<result property="emp_code" column="emp_code"/>
  		<result property="group_id" column="group_id"/>
  		<result property="code_id" column="code_id"/>
  		<result property="amount" column="R_amount"/>
  		<result property="reg_date" column="R_reg_date"/>
  		<result property="reg_emp" column="R_reg_emp"/>
  		<result property="update_date" column="R_update_date"/>
  		<result property="update_emp" column="R_update_emp"/>
  		<result property="inst_code" column="inst_code"/>
  		<collection property="vo" resultMap="instructionVOMap"/>
  	</resultMap>
  	<resultMap type="com.production.domain.instructionVO" id="instructionVOMap">
  		<result property="code" column="I_code"/>
  		<result property="product" column="product"/>
  		<result property="line_code" column="line_code"/>
  		<result property="content" column="content"/>
  		<result property="request" column="request"/>
  		<result property="amount" column="I_amount"/>
  		<result property="reg_emp" column="I_reg_emp"/>
  		<result property="reg_date" column="I_reg_date"/>
  		<result property="update_emp" column="I_update_emp"/>
  		<result property="update_date" column="I_update_date"/>
  	</resultMap>
	<select id="getResultList" parameterType="hashmap" resultType="com.production.domain.resultVO" resultMap="resultVOMap">
		<![CDATA[
	  		SELECT R.code AS R_code,emp_code,group_id,code_id,R.amount AS R_amount,R.reg_date AS R_reg_date,R.reg_emp AS R_reg_emp,R.update_date AS R_update_date,R.update_emp AS R_update_emp,inst_code,
	  		I.code AS I_code,product,line_code,content,request,I.amount AS I_amount,I.reg_emp AS I_reg_emp,I.reg_date AS I_reg_date,I.update_emp AS I_update_emp,I.update_date AS I_update_date 
	  		FROM RESULT R 
	  		LEFT JOIN INSTRUCTION I 
	  		ON R.inst_code = I.code 
	  		WHERE 1=1;
		]]>
	</select>
	
</mapper>