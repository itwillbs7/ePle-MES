<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  
  <!--warehouseMapper.xml -->
  <mapper namespace="com.itwillbs.mapper.WarehouseMapper">
  
  	<resultMap type="com.itwillbs.domain.WarehouseVO" id="warehouse">
		<result property="code" column="code"/>
		<result property="location" column="location"/>
		<result property="group_id" column="group_id"/>
		<result property="group_name" column="group_name"/>
		<result property="manager" column="manager"/>
		<result property="mng_phone" column="mng_phone"/>
		<result property="active" column="active"/>
		<result property="name" column="name"/>
		<result property="phone" column="phone"/>
	</resultMap>
	
	
  <select id="getWarehouseList" resultMap="warehouse">
  	SELECT w.code, w.location, w.group_id, w.group_name, e.name, e.phone, w.active
	FROM WAREHOUSE w JOIN EMPLOYEES e
	on w.manager=e.name
  	limit #{startPage},#{pageSize} 	
  </select>

  <select id="countWarehouse" resultType="int">
	<![CDATA[	
	SELECT count(*) FROM WAREHOUSE
	]]>
  </select>
  
  <insert id="insertWarehouse">
  	insert into WAREHOUSE (code,location,group_id,group_name,manager,mng_phone,active) 
  	values(#{code},#{location},#{group_id},#{group_name},#{manager},#{mng_phone},#{active})
  </insert>

  <delete id="deleteWarehouse">
  	delete from WAREHOUSE
  	where code = #{code}  	
  </delete>

  <select id="getWarehouseContent" resultType="WarehouseVO">
	SELECT * FROM WAREHOUSE
	WHERE code = #{code}
  </select>	
	
	
  	
 
	
	
	
  </mapper>